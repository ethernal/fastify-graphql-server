// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id       String  @id @default(cuid())
  email    String  @unique
  login    String  @unique
  password String?

  createdAt  DateTime?     @default(now())
  modifiedAt DateTime?
  profiles   Profile[]
  userData   PersonalData?
}

model PersonalData {
  id         String  @id @default(cuid())
  photo      String?
  firstName  String
  middleName String?
  lastName   String
  summary    String?
  userId     String
  user       User?   @relation(fields: [userId], references: [id])
}

model Profile {
  id                 String @id @default(cuid())
  // this is for external world to see.. ex. Position applied for
  profileNamePublic  String
  // this is for the user to differenciate profiles created
  profileNamePrivate String
  userId             String
  user               User   @relation(fields: [userId], references: [id])
}

model Experience {
  id              String              @id @default(cuid())
  companyName     String
  role            String
  roleDescription String
  url             String
  startDate       DateTime
  endDate         DateTime
  // create multiple descriptions that can be used depending on the context
  details         ExperienceDetails[]
}

model ExperienceDetails {
  id             String     @id @default(cuid())
  summary        String
  highlights     String[]
  experienceId   String
  workExperience Experience @relation(fields: [experienceId], references: [id])
}

model Refrences {
  id      String  @id @default(cuid())
  from    String
  summary String?
  link    String?
}

model SocialProfile {
  id       String @id @default(cuid())
  network  String
  username String
  url      String
}

model ContactData {
  id    String  @id @default(cuid())
  phone String?
  email String  @unique
  url   String?

}

model Location {
  id          String  @id @default(cuid())
  address     String
  postalCode  String
  city        String
  countryCode String
  region      String?
}
